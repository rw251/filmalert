CREATE TABLE IF NOT EXISTS channels (
  id TEXT PRIMARY KEY,
  name TEXT
);

CREATE TABLE IF NOT EXISTS films (
  imdb TEXT PRIMARY KEY,
  channel TEXT,
  time TEXT,
  title TEXT,
  year INT
);

DROP TABLE IF EXISTS altChannelNames;
CREATE TABLE altChannelNames (
  altName TEXT PRIMARY KEY,
  name TEXT
);

INSERT INTO altChannelNames
VALUES
  ("BBC One HD", "BBC ONE N West"),
  ("BBC One London", "BBC ONE N West"),
  ("BBC Two England", "BBC TWO"),
  ("BBC Two HD", "BBC TWO"),
  ("ITV4HD", "ITV4"),
  ("BBC Four", "BBC FOUR"),
  ("ITV HD London", "ITV1"),
  ("ITV London", "ITV1"),
  ("GREAT! movies action", "GREAT! action"),
  ("GREAT! movies christmas", "GREAT! christmas"),
  ("Talking Pictures TV", "TalkingPictures TV"),
  ("BBC Four HD","BBC FOUR"),
  ("BBC One Wales HD","iPlayer"),
  ("Film4 HD","FILM4"),
  ("5SELECT","My5"),
  ("Channel 5 HD","Channel 5"),
  ("BBC Scotland HD","iPlayer"),
  ("5Action HD","5ACTION");

DROP TABLE IF EXISTS nonFilmChannels;
CREATE TABLE nonFilmChannels (
  name TEXT PRIMARY KEY
);

INSERT INTO nonFilmChannels
VALUES  
  ("TalkLiverpool"),
  ("QVC"),
  ("Really"),
  ("More 4"),
  ("TJC"),
  ("Yesterday"),
  ("QVC2"),
  ("Quest Red"),
  ("CBS Reality"),
  ("RealityXtra"),
  ("That's 60s"),
  ("Jewellery Maker"),
  ("HobbyMaker"),
  ("That's 90s"),
  ("TCC"),
  ("EarthxTV"),
  ("Create &amp; Craft"),
  ("WildEarth"),
  ("Freeview"),
  ("Ketchup TV"),
  ("Ketchup Too"),
  ("YAAAS!"),
  ("Pop Player"),
  ("Food Network"),
  ("HGTV"),
  ("Gems TV"),
  ("Challenge"),
  ("Ideal World"),
  ("That's TV (UK)"),
  ("GREAT! movies extra"),
  ("GREAT! christmas mix");

CREATE TABLE IF NOT EXISTS users ( 
  user_id TEXT PRIMARY KEY,
  refresh_token TEXT,
  email TEXT,
  name TEXT,
  session_id TEXT,
  expiry TEXT, 
  todoistState TEXT,
  todoistToken TEXT
);

CREATE TABLE IF NOT EXISTS filmUserLkup (
  user_id TEXT,
  imdb TEXT,
  PRIMARY KEY(user_id, imdb)
);

INSERT INTO films (imdb, year, title)
VALUES ("0017136",1927,"Metropolis"),("0024844",1934,"L'Atalante"),("0025747",1934,"The Scarlet Letter"),("0031381",1939,"Gone with the Wind"),
("0031514",1939,"Le Jour Se Leve"),("0032145",1939,"Wuthering Heights"),("0032455",1940,"Fantasia"),("0032553",1940,"The Great Dictator"),
("0034639",1942,"The Avengers"),("0038355",1946,"The Big Sleep"),("0038854",1946,"The Postman Always Rings Twice"),("0038890",1945,"Rome, Open City"),
("0042876",1950,"Rashomon"),("0045039",1952,"Plymouth Adventure"),("0046268",1953,"The Wages of Fear"),("0046438",1953,"Tokyo Story"),("0050105",1957,"An Affair to Remember"),
("0050986",1957,"Wild Strawberries"),("0052311",1958,"Touch of Evil"),("0053472",1960,"Breathless"),("0055032",1962,"Jules and Jim"),("0055779",1960,"Wild for Kicks"),
("0057091",1963,"The Leopard"),("0058450",1964,"The Umbrellas of Cherbourg"),("0058715",1964,"The Gospel According to St. Matthew"),("0058898",1965,"Alphaville"),("0060921",1966,"The Russians Are Coming! The Russians Are Coming!"),
("0061418",1967,"Bonnie and Clyde"),("0064116",1968,"Once Upon a Time in the West"),("0064612",1969,"My Night at Maud's"),("0065214",1969,"The Wild Bunch"),("0066999",1971,"Dirty Harry"),("0067185",1971,"Harold and Maude"),("0071315",1974,"Chinatown"),
("0073747",1975,"The Stepford Wives"),("0074860",1976,"Marathon Man"),("0075520",1977,"Jesus of Nazareth"),("0075686",1977,"Annie Hall"),("0077405",1978,"Days of Heaven"),("0081070",1980,"The Long Good Friday"),("0086979",1984,"Blood Simple"),
("0087803",1984,"1984"),("0087843",1984,"Once Upon a Time in America"),("0089881",1985,"Ran"),("0094625",1988,"Akira"),("0097322",1989,"The Fabulous Baker Boys"),("0098258",1989,"Say Anything..."),("0099165",1990,"The Bonfire of the Vanities"),
("0104684",1992,"Hard Boiled"),("0106226",1993,"The Age of Innocence"),("0106833",1993,"Ethan Frome"),("0112769",1995,"La Cérémonie"),("0117589",1996,"Secrets & Lies"),("0118694",2000,"In the Mood for Love"),("0245429",2001,"Spirited Away"),
("0266543",2003,"Finding Nemo"),("0304141",2004,"Harry Potter and the Prisoner of Azkaban"),("0317219",2006,"Cars"),("0330373",2005,"Harry Potter and the Goblet of Fire"),("0373889",2007,"Harry Potter and the Order of the Phoenix"),("0466893",2011,"Margaret"),("0475331",2006,"The Magic Flute"),
("0910970",2008,"WALL·E"),("0952640",2007,"Alvin and the Chipmunks"),("1149362",2009,"The White Ribbon"),("1187044",2009,"The Maid"),("1189073",2011,"The Skin I Live In"),("1191111",2009,"Enter the Void"),("1221141",2008,"The Headless Woman"),
("1287878",2010,"Poetry"),("1313104",2009,"The Cove"),("1340123",2009,"Samson & Delilah"),("1379182",2009,"Dogtooth"),("1405809",2009,"Lourdes"),("1490017",2014,"The Lego Movie"),("1588875",2010,"How I Ended This Summer"),
("1588895",2010,"Uncle Boonmee Who Can Recall His Past Lives"),("1667889",2012,"Ice Age: Continental Drift"),("1819513",2011,"Dreams of a Life"),("1832382",2011,"A Separation"),("2334873",2013,"Blue Jasmine"),
("2358891",2013,"The Great Beauty"),("2375605",2012,"The Act of Killing"),("2380594",2012,"Winter of Discontent"),("2436452",2013,"Exhibition"),("2740710",2013,"From the Sea"),("2852432",2013,"Norte, the End of History"),
("4044364",2014,"Citizenfour"),("4438848",2016,"Neighbors 2: Sorority Rising"),("5337326",2012,"Moneyball: Playing the Game"),("6040662",2017,"The Children Act"),("7146812",2020,"Onward"),("7979580",2021,"The Mitchells vs the Machines"),("8376234",2021,"Peter Rabbit 2: the Runaway");

INSERT INTO filmUserLkup
VALUES ("111239645331569492483","0017136"),("111239645331569492483","0024844"),("111239645331569492483","0025747"),("111239645331569492483","0031381"),("111239645331569492483","0031514"),("111239645331569492483","0032145"),("111239645331569492483","0032455"),
("111239645331569492483","0032553"),("111239645331569492483","0034639"),("111239645331569492483","0038355"),("111239645331569492483","0038854"),("111239645331569492483","0038890"),("111239645331569492483","0042876"),("111239645331569492483","0045039"),
("111239645331569492483","0046268"),("111239645331569492483","0046438"),("111239645331569492483","0050105"),("111239645331569492483","0050986"),("111239645331569492483","0052311"),("111239645331569492483","0053472"),("111239645331569492483","0055032"),
("111239645331569492483","0055779"),("111239645331569492483","0057091"),("111239645331569492483","0058450"),("111239645331569492483","0058715"),("111239645331569492483","0058898"),("111239645331569492483","0060921"),("111239645331569492483","0061418"),
("111239645331569492483","0064116"),("111239645331569492483","0064612"),("111239645331569492483","0065214"),("111239645331569492483","0066999"),("111239645331569492483","0067185"),("111239645331569492483","0071315"),("111239645331569492483","0073747"),
("111239645331569492483","0074860"),("111239645331569492483","0075520"),("111239645331569492483","0075686"),("111239645331569492483","0077405"),("111239645331569492483","0081070"),("111239645331569492483","0086979"),("111239645331569492483","0087803"),
("111239645331569492483","0087843"),("111239645331569492483","0089881"),("111239645331569492483","0094625"),("111239645331569492483","0097322"),("111239645331569492483","0098258"),("111239645331569492483","0099165"),("111239645331569492483","0104684"),
("111239645331569492483","0106226"),("111239645331569492483","0106833"),("111239645331569492483","0112769"),("111239645331569492483","0117589"),("111239645331569492483","0118694"),("111239645331569492483","0245429"),("111239645331569492483","0266543"),
("111239645331569492483","0304141"),("111239645331569492483","0317219"),("111239645331569492483","0330373"),("111239645331569492483","0373889"),("111239645331569492483","0466893"),("111239645331569492483","0475331"),("111239645331569492483","0910970"),
("111239645331569492483","0952640"),("111239645331569492483","1149362"),("111239645331569492483","1187044"),("111239645331569492483","1189073"),("111239645331569492483","1191111"),("111239645331569492483","1221141"),("111239645331569492483","1287878"),
("111239645331569492483","1313104"),("111239645331569492483","1340123"),("111239645331569492483","1379182"),("111239645331569492483","1405809"),("111239645331569492483","1490017"),("111239645331569492483","1588875"),("111239645331569492483","1588895"),
("111239645331569492483","1667889"),("111239645331569492483","1819513"),("111239645331569492483","1832382"),("111239645331569492483","2334873"),("111239645331569492483","2358891"),("111239645331569492483","2375605"),("111239645331569492483","2380594"),
("111239645331569492483","2436452"),("111239645331569492483","2740710"),("111239645331569492483","2852432"),("111239645331569492483","4044364"),("111239645331569492483","4438848"),("111239645331569492483","5337326"),
("111239645331569492483","6040662"),("111239645331569492483","7146812"),("111239645331569492483","7979580"),("111239645331569492483","8376234");